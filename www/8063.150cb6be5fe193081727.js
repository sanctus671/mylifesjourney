(self.webpackChunkmy_lifes_journey=self.webpackChunkmy_lifes_journey||[]).push([[8063],{8063:function(n,t,o){"use strict";o.r(t),o.d(t,{SignupPageModule:function(){return m}});var e=o(1116),i=o(1462),r=o(8080),g=o(8809),_=o(9609),s=o(2620),u=o(5803),p=o(303),a=o(9899);function c(n,t){1&n&&u._UZ(0,"ion-spinner",21)}function d(n,t){if(1&n&&(u.TgZ(0,"p",22),u._uU(1),u.qZA()),2&n){var o=u.oxw();u.xp6(1),u.Oqu(o.user.error)}}var f=function(){return["/login"]},l=[{path:"",component:function(){function n(n,t,o,e){this.authService=n,this.loadingController=t,this.alertController=o,this.iab=e,this.user={email:"",password:"",error:"",dob:"",loading:!1},this.dateOptions={defaultView:s.z6.Year,dateFormat:"dd/mm/yyyy"}}return n.prototype.ngOnInit=function(){},n.prototype.signup=function(){var n=this;return this.user.loading=!0,this.user.error="",this.user.email&&this.user.password?this.user.password!==this.user.confirm_password?(this.user.loading=!1,void(this.user.error="Passwords do not match.")):this.user.tos?(this.user.dob=this.user.dob_raw&&this.user.dob_raw.singleDate&&this.user.dob_raw.singleDate.jsDate?_(this.user.dob_raw.singleDate.jsDate).format("YYYY-MM-DD"):"",void this.authService.register(this.user).then(function(){n.user.loading=!1,n.user={email:"",password:"",error:"",dob:"",loading:!1},n.authService.retreiveUserData().then(function(){}).catch(function(){})}).catch(function(t){if(n.user.loading=!1,t&&t.error&&t.error.error&&t.error.error.message){var o=t.error.error.message;n.user.error=o.indexOf("Duplicate")>-1?"An account already exists with this email. Please login to continue.":o}else n.user.error="There was an error signing up. Please try again."})):(this.user.loading=!1,void(this.user.error="Please accept the Terms and Conditions")):(this.user.loading=!1,void(this.user.error="Required fields not filled in. "))},n.prototype.openTos=function(n){n.preventDefault(),n.stopPropagation(),this.iab.create("http://167.99.70.165/terms-conditions.html","_system")},n.\u0275fac=function(t){return new(t||n)(u.Y36(p.$),u.Y36(g.HT),u.Y36(g.Br),u.Y36(a.i))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-signup"]],decls:44,vars:12,consts:[[1,"signup"],[1,"signup__header"],["src","assets/img/logo-dark.svg",1,"signup__header__logo"],[1,"signup__form",3,"ngSubmit"],[1,"signup__form__input"],["type","text","name","name",3,"ngModel","ngModelChange"],["type","email","name","email",3,"ngModel","ngModelChange"],[1,"signup__form__input","signup__form__input--date"],["angular-mydatepicker","","name","dob","autoComplete","none","readonly","",3,"ngModel","options","click","ngModelChange"],["dp","angular-mydatepicker"],["type","password","name","password",3,"ngModel","ngModelChange"],["type","password","name","confirm_password",3,"ngModel","ngModelChange"],[1,"custom-checkbox","signup__form__input"],[3,"click"],["name","agree","checked","true","required","",3,"ngModel","ngModelChange"],["color","dark","expand","block","shape","round","type","submit",1,"signup__form__login-button",3,"disabled"],["color","light",4,"ngIf"],["class","signup__form__error",4,"ngIf"],[1,"signup__form__secondary-actions"],[1,"signup__form__secondary-actions__sign-up"],["routerDirection","forward",3,"routerLink"],["color","light"],[1,"signup__form__error"]],template:function(n,t){if(1&n){var o=u.EpF();u.TgZ(0,"ion-content",0),u.TgZ(1,"div",1),u._UZ(2,"img",2),u.TgZ(3,"h1"),u._uU(4,"Create your account"),u.qZA(),u.TgZ(5,"h6"),u._uU(6,"Please fill in the fields below."),u.qZA(),u.qZA(),u.TgZ(7,"form",3),u.NdJ("ngSubmit",function(){return t.signup()}),u.TgZ(8,"div",4),u.TgZ(9,"h6"),u._uU(10,"Name"),u.qZA(),u.TgZ(11,"ion-input",5),u.NdJ("ngModelChange",function(n){return t.user.name=n}),u.qZA(),u.qZA(),u.TgZ(12,"div",4),u.TgZ(13,"h6"),u._uU(14,"Email*"),u.qZA(),u.TgZ(15,"ion-input",6),u.NdJ("ngModelChange",function(n){return t.user.email=n}),u.qZA(),u.qZA(),u.TgZ(16,"div",7),u.TgZ(17,"h6"),u._uU(18,"Date of Birth"),u.qZA(),u.TgZ(19,"input",8,9),u.NdJ("click",function(){return u.CHM(o),u.MAs(20).toggleCalendar()})("ngModelChange",function(n){return t.user.dob_raw=n}),u.qZA(),u.qZA(),u.TgZ(21,"div",4),u.TgZ(22,"h6"),u._uU(23,"Password*"),u.qZA(),u.TgZ(24,"ion-input",10),u.NdJ("ngModelChange",function(n){return t.user.password=n}),u.qZA(),u.qZA(),u.TgZ(25,"div",4),u.TgZ(26,"h6"),u._uU(27,"Retype Password*"),u.qZA(),u.TgZ(28,"ion-input",11),u.NdJ("ngModelChange",function(n){return t.user.confirm_password=n}),u.qZA(),u.qZA(),u.TgZ(29,"div",12),u.TgZ(30,"ion-label"),u._uU(31,"I agree to the "),u.TgZ(32,"a",13),u.NdJ("click",function(n){return t.openTos(n)}),u._uU(33,"Terms and Conditions"),u.qZA(),u.qZA(),u.TgZ(34,"ion-checkbox",14),u.NdJ("ngModelChange",function(n){return t.user.tos=n}),u.qZA(),u.qZA(),u.TgZ(35,"ion-button",15),u._uU(36," Sign up "),u.YNc(37,c,1,0,"ion-spinner",16),u.qZA(),u.YNc(38,d,2,1,"p",17),u.TgZ(39,"div",18),u.TgZ(40,"p",19),u._uU(41,"Have an account? "),u.TgZ(42,"a",20),u._uU(43,"Login"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}2&n&&(u.xp6(11),u.Q6J("ngModel",t.user.name),u.xp6(4),u.Q6J("ngModel",t.user.email),u.xp6(4),u.Q6J("ngModel",t.user.dob_raw)("options",t.dateOptions),u.xp6(5),u.Q6J("ngModel",t.user.password),u.xp6(4),u.Q6J("ngModel",t.user.confirm_password),u.xp6(6),u.Q6J("ngModel",t.user.tos),u.xp6(1),u.Q6J("disabled",t.user.loading),u.xp6(2),u.Q6J("ngIf",t.user.loading),u.xp6(1),u.Q6J("ngIf",t.user.error),u.xp6(4),u.Q6J("routerLink",u.DdM(11,f)))},directives:[g.W2,i._Y,i.JL,i.F,g.pK,g.j9,i.JJ,i.On,i.Fj,s.w_,g.Q$,g.nz,g.w,i.Q7,g.YG,e.O5,r.yS,g.YI,g.PQ],styles:[".signup[_ngcontent-%COMP%]{--background:#fde8fa;--padding-top:40px;--padding-bottom:40px;--padding-start:20px;--padding-end:20px;margin-top:var(--ion-safe-area-top,0)}.signup[_ngcontent-%COMP%]   .signup__header[_ngcontent-%COMP%]{padding-bottom:30px}.signup[_ngcontent-%COMP%]   .signup__header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;width:180px}.signup[_ngcontent-%COMP%]   .signup__header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:40px 0 0}.signup[_ngcontent-%COMP%]   .signup__header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:10px 0 0}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__input[_ngcontent-%COMP%]{margin-top:20px}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__input[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:400;font-size:14px;margin:0;padding-bottom:10px}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__input[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%], .signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__input[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--background:#fff;background-color:#fff;border-radius:64px;--padding-top:12.5px;--padding-bottom:12.5px;--padding-start:30px}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__input[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer;color:#210f38}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__input[_ngcontent-%COMP%]   ion-checkbox[_ngcontent-%COMP%]{position:relative;margin-left:10px;vertical-align:middle}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__input.signup__form__input--date[_ngcontent-%COMP%]{position:relative}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__input.signup__form__input--date[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:relative;border:none!important;box-shadow:none!important;outline:none!important;width:100%;background-color:#fff;border-radius:64px;padding-top:12.5px;padding-bottom:12.5px;padding-left:30px;color:var(--color);font-family:var(--ion-font-family,inherit)}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__login-button[_ngcontent-%COMP%]{margin-top:25px}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__login-button[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;margin-left:5px}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__error[_ngcontent-%COMP%]{text-align:center;color:red}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__secondary-actions[_ngcontent-%COMP%]{margin-top:25px}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__secondary-actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;font-weight:200;text-align:center}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__secondary-actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#210f38}@media (prefers-color-scheme: dark){.signup[_ngcontent-%COMP%]{--background:#000}.signup[_ngcontent-%COMP%]   .signup__header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__input[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%], .signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__input[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__input[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%], .signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__input[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{--background:#210f38;background-color:#210f38;color:#fff}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__input[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f3c3f7}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__input[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#fff}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__input.signup__form__input--date[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#210f38}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__secondary-actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}}"]}),n}()}],m=function(){function n(){}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[e.ez,i.u5,g.Pc,r.Bz.forChild(l),s._7]]}),n}()}}]);