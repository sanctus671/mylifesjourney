(self.webpackChunkmy_lifes_journey=self.webpackChunkmy_lifes_journey||[]).push([[8063],{8063:function(n,e,o){"use strict";o.r(e),o.d(e,{SignupPageModule:function(){return f}});var t=o(1116),r=o(1462),i=o(5860),g=o(8809),s=o(9609),_=o(5803),u=o(303);function p(n,e){1&n&&_._UZ(0,"ion-spinner",16)}function a(n,e){if(1&n&&(_.TgZ(0,"p",17),_._uU(1),_.qZA()),2&n){var o=_.oxw();_.xp6(1),_.Oqu(o.user.error)}}var c=function(){return["/login"]},d=[{path:"",component:function(){function n(n,e,o){this.authService=n,this.loadingController=e,this.alertController=o,this.user={email:"",password:"",error:"",dob:"",loading:!1}}return n.prototype.ngOnInit=function(){},n.prototype.signup=function(){var n=this;if(this.user.loading=!0,this.user.error="",!this.user.email)return this.user.loading=!1,void(this.user.error="Required fields not filled in. ");this.user.dob=this.user.dob_raw?s(this.user.dob_raw).format("YYYY-MM-DD"):"",this.authService.register(this.user).then(function(){n.user.loading=!1,n.user={email:"",password:"",error:"",dob:"",loading:!1},n.authService.retreiveUserData().then(function(){}).catch(function(){})}).catch(function(e){if(n.user.loading=!1,e&&e.error)for(var o in e.error.error.errors)n.user.error=n.user.error+e.error.error.errors[o]+" ";else n.user.error=e.message})},n.\u0275fac=function(e){return new(e||n)(_.Y36(u.$),_.Y36(g.HT),_.Y36(g.Br))},n.\u0275cmp=_.Xpm({type:n,selectors:[["app-signup"]],decls:37,vars:10,consts:[[1,"signup"],[1,"signup__header"],["src","assets/img/logo-dark.svg",1,"signup__header__logo"],[1,"signup__form",3,"ngSubmit"],[1,"signup__form__input"],["type","text","name","name",3,"ngModel","ngModelChange"],["type","email","name","email",3,"ngModel","ngModelChange"],["displayFormat","DD/MM/YYYY","name","dob",3,"ngModel","ngModelChange"],["type","password","name","password",3,"ngModel","ngModelChange"],["type","password","name","confirm_password",3,"ngModel","ngModelChange"],["color","dark","expand","block","shape","round","type","submit",1,"signup__form__login-button",3,"disabled"],["color","light",4,"ngIf"],["class","signup__form__error",4,"ngIf"],[1,"signup__form__secondary-actions"],[1,"signup__form__secondary-actions__sign-up"],["routerDirection","forward",3,"routerLink"],["color","light"],[1,"signup__form__error"]],template:function(n,e){1&n&&(_.TgZ(0,"ion-content",0),_.TgZ(1,"div",1),_._UZ(2,"img",2),_.TgZ(3,"h1"),_._uU(4,"Create your account"),_.qZA(),_.TgZ(5,"h6"),_._uU(6,"Please fill in the fields below."),_.qZA(),_.qZA(),_.TgZ(7,"form",3),_.NdJ("ngSubmit",function(){return e.signup()}),_.TgZ(8,"div",4),_.TgZ(9,"h6"),_._uU(10,"Name"),_.qZA(),_.TgZ(11,"ion-input",5),_.NdJ("ngModelChange",function(n){return e.user.name=n}),_.qZA(),_.qZA(),_.TgZ(12,"div",4),_.TgZ(13,"h6"),_._uU(14,"Email"),_.qZA(),_.TgZ(15,"ion-input",6),_.NdJ("ngModelChange",function(n){return e.user.email=n}),_.qZA(),_.qZA(),_.TgZ(16,"div",4),_.TgZ(17,"h6"),_._uU(18,"Date of Birth"),_.qZA(),_.TgZ(19,"ion-datetime",7),_.NdJ("ngModelChange",function(n){return e.user.dob_raw=n}),_.qZA(),_.qZA(),_.TgZ(20,"div",4),_.TgZ(21,"h6"),_._uU(22,"Password"),_.qZA(),_.TgZ(23,"ion-input",8),_.NdJ("ngModelChange",function(n){return e.user.password=n}),_.qZA(),_.qZA(),_.TgZ(24,"div",4),_.TgZ(25,"h6"),_._uU(26,"Retype Password"),_.qZA(),_.TgZ(27,"ion-input",9),_.NdJ("ngModelChange",function(n){return e.user.confirm_password=n}),_.qZA(),_.qZA(),_.TgZ(28,"ion-button",10),_._uU(29," Sign up "),_.YNc(30,p,1,0,"ion-spinner",11),_.qZA(),_.YNc(31,a,2,1,"p",12),_.TgZ(32,"div",13),_.TgZ(33,"p",14),_._uU(34,"Have an account? "),_.TgZ(35,"a",15),_._uU(36,"Login"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&n&&(_.xp6(11),_.Q6J("ngModel",e.user.name),_.xp6(4),_.Q6J("ngModel",e.user.email),_.xp6(4),_.Q6J("ngModel",e.user.dob_raw),_.xp6(4),_.Q6J("ngModel",e.user.password),_.xp6(4),_.Q6J("ngModel",e.user.confirm_password),_.xp6(1),_.Q6J("disabled",e.user.loading),_.xp6(2),_.Q6J("ngIf",e.user.loading),_.xp6(1),_.Q6J("ngIf",e.user.error),_.xp6(4),_.Q6J("routerLink",_.DdM(9,c)))},directives:[g.W2,r._Y,r.JL,r.F,g.pK,g.j9,r.JJ,r.On,g.x4,g.QI,g.YG,t.O5,i.yS,g.YI,g.PQ],styles:[".signup[_ngcontent-%COMP%]{--background:#e7d2e6;--padding-top:40px;--padding-bottom:40px;--padding-start:20px;--padding-end:20px}.signup[_ngcontent-%COMP%]   .signup__header[_ngcontent-%COMP%]{padding-bottom:30px}.signup[_ngcontent-%COMP%]   .signup__header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;width:180px}.signup[_ngcontent-%COMP%]   .signup__header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:40px 0 0}.signup[_ngcontent-%COMP%]   .signup__header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:10px 0 0}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__input[_ngcontent-%COMP%]{margin-top:20px}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__input[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:200;font-size:13px;letter-spacing:1px;margin:0;padding-bottom:10px}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__input[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%], .signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__input[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--background:#fff;background-color:#fff;border-radius:64px;--padding-top:12.5px;--padding-bottom:12.5px;--padding-start:30px}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__login-button[_ngcontent-%COMP%]{margin-top:25px}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__login-button[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;margin-left:5px}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__error[_ngcontent-%COMP%]{text-align:center;color:red}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__secondary-actions[_ngcontent-%COMP%]{margin-top:25px}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__secondary-actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;font-weight:200;text-align:center}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__secondary-actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#210f38}"]}),n}()}],f=function(){function n(){}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({imports:[[t.ez,r.u5,g.Pc,i.Bz.forChild(d)]]}),n}()}}]);