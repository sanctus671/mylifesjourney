(self.webpackChunkmy_lifes_journey=self.webpackChunkmy_lifes_journey||[]).push([[1802],{1802:function(e,n,t){"use strict";t.r(n),t.d(n,{TimelinePageModule:function(){return h}});var i=t(1116),_=t(1462),o=t(8809),r=t(5860),m=t(4762),l=t(9609),a=t(5803),g=t(8885),c=t(303),s=t(6931);function p(e,n){1&e&&(a.TgZ(0,"div",10),a._UZ(1,"ion-spinner",11),a.qZA())}var d=function(e){return[e]},u=function(){return{"background-image":"url(assets/img/login.jpg)"}};function f(e,n){if(1&e&&(a.TgZ(0,"div",20),a._UZ(1,"div",21),a.TgZ(2,"div",22),a.TgZ(3,"h5"),a._uU(4),a.qZA(),a.TgZ(5,"p"),a._uU(6),a.qZA(),a.TgZ(7,"a",23),a._UZ(8,"ion-icon",24),a.qZA(),a.qZA(),a.qZA()),2&e){var t=n.$implicit;a.Q6J("routerLink",a.VKq(4,d,"/memory/"+t.id)),a.xp6(1),a.Q6J("ngStyle",a.DdM(6,u)),a.xp6(3),a.Oqu(t.title),a.xp6(2),a.Oqu(t.description)}}function y(e,n){if(1&e){var t=a.EpF();a.TgZ(0,"div",14),a.TgZ(1,"div",15),a._uU(2),a.TgZ(3,"a",16),a.NdJ("click",function(){return a.CHM(t),a.oxw(2).toggleAddMemory()}),a._UZ(4,"ion-icon",17),a.qZA(),a.qZA(),a.TgZ(5,"div",18),a.YNc(6,f,9,7,"div",19),a.qZA(),a.qZA()}if(2&e){var i=n.$implicit,_=a.oxw(2);a.xp6(2),a.hij(" ",i," "),a.xp6(4),a.Q6J("ngForOf",_.memories[i])}}function M(e,n){if(1&e&&(a.TgZ(0,"div",12),a.YNc(1,y,7,2,"div",13),a.qZA()),2&e){var t=a.oxw();a.xp6(1),a.Q6J("ngForOf",t.years)}}var O=[{path:"",component:function(){function e(e,n){var t=this;this.profileService=e,this.authService=n,this.years=[],this.memories={},this.loading=!0,this.authService.getUserData().subscribe(function(e){t.user=e,t.user.profile&&t.getProfile()})}return e.prototype.ngOnInit=function(){},e.prototype.getProfile=function(){var e=this;this.memories=[],this.years=[],this.profileService.getProfile(this.user.profile.id).then(function(n){var t,i;e.profile=n;try{for(var _=(0,m.XA)(e.profile.memories),o=_.next();!o.done;o=_.next()){var r=o.value;if(r.show_timeline){var a=l(r.memory_date).format("YYYY");a=a.slice(0,-1),e.memories[a+="0"]?e.memories[a].push(r):(e.years.push(a),e.memories[a]=[r])}}}catch(g){t={error:g}}finally{try{o&&!o.done&&(i=_.return)&&i.call(_)}finally{if(t)throw t.error}}e.loading=!1}).catch(function(){e.loading=!1})},e.prototype.toggleAddMemory=function(){this.showAddMemory=!this.showAddMemory},e.\u0275fac=function(n){return new(n||e)(a.Y36(g.H),a.Y36(c.$))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-timeline"]],decls:17,vars:3,consts:[[1,"app-navigation","ion-no-border"],["slot","end"],["name","menu"],[1,"ion-text-left"],["src","assets/img/logo-dark.svg",1,"app-navigation__logo"],[3,"show","showChange"],[1,"timeline"],[1,"timeline__header"],["class","timeline__loading",4,"ngIf"],["class","timeline__list",4,"ngIf"],[1,"timeline__loading"],["color","primary"],[1,"timeline__list"],["class","timeline__list__year",4,"ngFor","ngForOf"],[1,"timeline__list__year"],[1,"timeline__list__year__header"],[1,"profile__record__add",3,"click"],["name","add"],[1,"timeline__list__year__memories"],["class","timeline__list__year__memories__memory","routerDirection","forward",3,"routerLink",4,"ngFor","ngForOf"],["routerDirection","forward",1,"timeline__list__year__memories__memory",3,"routerLink"],[1,"timeline__list__year__memories__memory__image",3,"ngStyle"],[1,"timeline__list__year__memories__memory__content"],[1,"timeline__list__year__memories__memory__content__view"],["name","chevron-forward"]],template:function(e,n){1&e&&(a.TgZ(0,"ion-header",0),a.TgZ(1,"ion-toolbar"),a.TgZ(2,"ion-buttons",1),a.TgZ(3,"ion-menu-button"),a._UZ(4,"ion-icon",2),a._uU(5," Menu "),a.qZA(),a.qZA(),a.TgZ(6,"ion-title",3),a._UZ(7,"img",4),a.qZA(),a.qZA(),a.qZA(),a.TgZ(8,"app-add-memory-type",5),a.NdJ("showChange",function(e){return n.showAddMemory=e}),a.qZA(),a.TgZ(9,"ion-content",6),a.TgZ(10,"div",7),a.TgZ(11,"h2"),a._uU(12,"Timeline"),a.qZA(),a.TgZ(13,"p"),a._uU(14,"Your timeline orders your memories during your life"),a.qZA(),a.qZA(),a.YNc(15,p,2,0,"div",8),a.YNc(16,M,2,1,"div",9),a.qZA()),2&e&&(a.xp6(8),a.Q6J("show",n.showAddMemory),a.xp6(7),a.Q6J("ngIf",n.loading),a.xp6(1),a.Q6J("ngIf",!n.loading))},directives:[o.Gu,o.sr,o.Sm,o.fG,o.gu,o.wd,s.e,o.W2,i.O5,o.PQ,i.sg,o.YI,r.rH,i.PC],styles:[".app-navigation[_ngcontent-%COMP%]{padding-left:15px;padding-right:20px;background-color:#fff}.app-navigation[_ngcontent-%COMP%]   ion-menu-button[_ngcontent-%COMP%]{width:auto;font-size:13px;text-transform:uppercase;font-weight:300;color:#210f36}.app-navigation[_ngcontent-%COMP%]   ion-menu-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;margin-right:3px}.app-navigation[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{padding-inline-start:0;padding-inline-end:0}.app-navigation[_ngcontent-%COMP%]   .app-navigation__logo[_ngcontent-%COMP%]{width:140px;margin-top:10px}.timeline[_ngcontent-%COMP%]   .timeline__header[_ngcontent-%COMP%]{padding:20px 30px;margin-bottom:20px}.timeline[_ngcontent-%COMP%]   .timeline__header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin:0}.timeline[_ngcontent-%COMP%]   .timeline__header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0 0;opacity:.7}.timeline[_ngcontent-%COMP%]   .timeline__loading[_ngcontent-%COMP%]{text-align:center;margin-top:30px;margin-bottom:30px}.timeline[_ngcontent-%COMP%]   .timeline__list[_ngcontent-%COMP%]{padding:0 30px}.timeline[_ngcontent-%COMP%]   .timeline__list[_ngcontent-%COMP%]   .timeline__list__year[_ngcontent-%COMP%]   .timeline__list__year__header[_ngcontent-%COMP%]{position:relative;font-size:22px}.timeline[_ngcontent-%COMP%]   .timeline__list[_ngcontent-%COMP%]   .timeline__list__year[_ngcontent-%COMP%]   .timeline__list__year__header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;top:-5px;right:0;background-color:#e7d2e6;color:#210f38;font-weight:100;font-size:24px;padding:2px;border-radius:15px;width:30px;height:30px;text-align:center}.timeline[_ngcontent-%COMP%]   .timeline__list[_ngcontent-%COMP%]   .timeline__list__year[_ngcontent-%COMP%]   .timeline__list__year__memories[_ngcontent-%COMP%]{padding-left:50px;border-left:1px solid #301f44;margin-left:25px;margin-top:10px;margin-bottom:10px}.timeline[_ngcontent-%COMP%]   .timeline__list[_ngcontent-%COMP%]   .timeline__list__year[_ngcontent-%COMP%]   .timeline__list__year__memories[_ngcontent-%COMP%]   .timeline__list__year__memories__memory[_ngcontent-%COMP%]:not(:last-child){margin-bottom:30px}.timeline[_ngcontent-%COMP%]   .timeline__list[_ngcontent-%COMP%]   .timeline__list__year[_ngcontent-%COMP%]   .timeline__list__year__memories[_ngcontent-%COMP%]   .timeline__list__year__memories__memory[_ngcontent-%COMP%]   .timeline__list__year__memories__memory__content[_ngcontent-%COMP%]{position:relative}.timeline[_ngcontent-%COMP%]   .timeline__list[_ngcontent-%COMP%]   .timeline__list__year[_ngcontent-%COMP%]   .timeline__list__year__memories[_ngcontent-%COMP%]   .timeline__list__year__memories__memory[_ngcontent-%COMP%]   .timeline__list__year__memories__memory__content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0}.timeline[_ngcontent-%COMP%]   .timeline__list[_ngcontent-%COMP%]   .timeline__list__year[_ngcontent-%COMP%]   .timeline__list__year__memories[_ngcontent-%COMP%]   .timeline__list__year__memories__memory[_ngcontent-%COMP%]   .timeline__list__year__memories__memory__content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0 0}.timeline[_ngcontent-%COMP%]   .timeline__list[_ngcontent-%COMP%]   .timeline__list__year[_ngcontent-%COMP%]   .timeline__list__year__memories[_ngcontent-%COMP%]   .timeline__list__year__memories__memory[_ngcontent-%COMP%]   .timeline__list__year__memories__memory__content[_ngcontent-%COMP%]   .timeline__list__year__memories__memory__content__view[_ngcontent-%COMP%]{background-color:#210f37;color:#dcc6df;font-weight:100;font-size:18px;line-height:26px;padding:2px;border-radius:13px;width:26px;height:26px;text-align:center;display:block;margin-top:10px}"]}),e}()}],C=function(){function e(){}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[r.Bz.forChild(O)],r.Bz]}),e}(),P=t(5667),h=function(){function e(){}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[i.ez,_.u5,o.Pc,C,P.$]]}),e}()}}]);